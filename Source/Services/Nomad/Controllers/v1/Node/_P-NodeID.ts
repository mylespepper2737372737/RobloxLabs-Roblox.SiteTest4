import { Request, Response } from 'express';

export default {
	method: 'all',
	func: async (request: Request, response: Response) => {
		if (request.query && request.query.index && parseInt(request.query.index.toString()) > 1) return;
		return response
			.status(200)
			.header({ 'X-Nomad-Index': 7, 'X-Nomad-Knownleader': true, 'X-Nomad-Lastcontact': 0 })
			.send({
				ID: '4a559254-8e70-418d-9900-874458f05c5f',
				SecretID: '',
				Datacenter: 'ark-1773.eu-west',
				Name: 'base3-omv-eu-west.1773.arkcdn-client',
				HTTPAddr: '64.124.125.5:4646',
				TLSEnabled: false,
				Attributes: {
					'kernel.version': '10.0.21123 Build 19045',
					'unique.storage.bytesfree': '23606153216',
					'cpu.numcores': '64',
					'cpu.modelname': 'AMD Ryzen Threadripper 3990X @ 4.30GHz',
					'os.signals':
						'SIGBUS,SIGFPE,SIGPIPE,SIGTRAP,SIGTSTP,SIGXFSZ,SIGIO,SIGKILL,SIGSTOP,SIGSYS,SIGTTOU,SIGALRM,SIGCHLD,SIGTERM,SIGUSR1,SIGHUP,SIGTTIN,SIGWINCH,SIGXCPU,SIGQUIT,SIGSEGV,SIGCONT,SIGILL,SIGIOT,SIGPROF,SIGURG,SIGUSR2,SIGABRT,SIGINT',
					'cpu.frequency': '4300',
					'nomad.version': '1.0.3',
					'cpu.arch': 'amd64',
					'kernel.name': 'windows',
					'unique.storage.bytestotal': '25832407040',
					'os.name': 'Microsoft Windows Server 2019',
					'cpu.totalcompute': '37200',
					'nomad.revision': '9294f35f9aa8dbb4acb6e85fa88e3e2534a3e41a',
					'os.version': '10.0.21123 Build 19045',
					'nomad.advertise.address': '64.124.125.5:4646',
					'unique.storage.volume': 'F:',
					'unique.hostname': 'base-ash2.28.us-east-2.73-208-221-23.arccdn-client',
					'unique.network.ip-address': '73.208.221.23',
					'memory.totalbytes': '1029009408',
				},
				NodeResources: {
					Cpu: { CpuShares: 37200 },
					Memory: { MemoryMB: 131072 },
					Disk: { DiskMB: 5.243e6 },
					Networks: [
						{ Mode: 'bridge', Device: '', CIDR: '', IP: '', MBits: 0, DNS: null, ReservedPorts: null, DynamicPorts: null },
						{
							Mode: 'host',
							Device: 'eth0',
							CIDR: ' 64.124.125.5/32',
							IP: ' 64.124.125.5',
							MBits: 1000,
							DNS: null,
							ReservedPorts: null,
							DynamicPorts: null,
						},
						{
							Mode: 'host',
							Device: 'eth0',
							CIDR: '10.16.0.6/32',
							IP: '10.16.0.6',
							MBits: 1000,
							DNS: null,
							ReservedPorts: null,
							DynamicPorts: null,
						},
					],
					NodeNetworks: [
						{ Mode: 'bridge', Device: '', MacAddress: '', Speed: 0, Addresses: null },
						{
							Mode: 'host',
							Device: 'eth0',
							MacAddress: 'be:31:54:fa:d9:bd',
							Speed: 1000,
							Addresses: [
								{ Family: 'ipv4', Alias: 'default', Address: ' 64.124.125.5', ReservedPorts: '', Gateway: '' },
								{ Family: 'ipv4', Alias: 'default', Address: '10.16.0.6', ReservedPorts: '', Gateway: '' },
							],
						},
					],
					Devices: null,
				},
				ReservedResources: {
					Cpu: { CpuShares: 0 },
					Memory: { MemoryMB: 0 },
					Disk: { DiskMB: 0 },
					Networks: { ReservedHostPorts: '' },
				},
				Resources: {
					CPU: 37200,
					MemoryMB: 131072,
					DiskMB: 22512,
					IOPS: 0,
					Networks: [
						{
							Mode: 'host',
							Device: 'eth0',
							CIDR: ' 64.124.125.5/32',
							IP: ' 64.124.125.5',
							MBits: 1000,
							DNS: null,
							ReservedPorts: null,
							DynamicPorts: null,
						},
						{
							Mode: 'host',
							Device: 'eth0',
							CIDR: '10.16.0.6/32',
							IP: '10.16.0.6',
							MBits: 1000,
							DNS: null,
							ReservedPorts: null,
							DynamicPorts: null,
						},
					],
					Devices: null,
				},
				Reserved: { CPU: 0, MemoryMB: 0, DiskMB: 0, IOPS: 0, Networks: null, Devices: null },
				Links: null,
				Meta: {
					'connect.gateway_image': 'envoyproxy/envoy:v${NOMAD_envoy_version}',
					'connect.log_level': 'info',
					'connect.proxy_concurrency': '1',
					'connect.sidecar_image': 'envoyproxy/envoy:v${NOMAD_envoy_version}',
				},
				NodeClass: '',
				ComputedClass: 'v1:18385265519449540422',
				Drain: false,
				DrainStrategy: null,
				SchedulingEligibility: 'eligible',
				Status: 'ready',
				StatusDescription: '',
				StatusUpdatedAt: 1619830279,
				Events: [
					{ Message: 'Node registered', Subsystem: 'Cluster', Details: null, Timestamp: '2021-05-01T00:51:19Z', CreateIndex: 0 },
					{
						Message: 'FX Runtime Start EXEC',
						Subsystem: 'Cluster',
						Details: {},
						Timestamp: '2021-05-01T00:52:19Z',
						CreateIndex: 1,
					},
				],
				Drivers: {
					raw_exec: {
						Attributes: null,
						Detected: true,
						Healthy: true,
						HealthDescription: 'Healthy',
						UpdateTime: '2021-05-01T00:07:34.824246116Z',
					},
					exec: {
						Attributes: null,
						Detected: true,
						Healthy: true,
						HealthDescription: 'Healthy',
						UpdateTime: '2021-05-01T00:07:34.824552642Z',
					},
					qemu: {
						Attributes: null,
						Detected: true,
						Healthy: true,
						HealthDescription: 'Healthy',
						UpdateTime: '2021-05-01T00:07:34.824748542Z',
					},
					java: {
						Attributes: null,
						Detected: true,
						Healthy: true,
						HealthDescription: 'Healthy',
						UpdateTime: '2021-05-01T00:07:34.825005129Z',
					},
					docker: {
						Attributes: {
							'driver.docker.runtimes': 'io.containerd.runc.v2,io.containerd.runtime.v1.linux,runc',
							'driver.docker.os_type': 'linux',
							'driver.docker': 'true',
							'driver.docker.version': '20.10.6',
						},
						Detected: true,
						Healthy: true,
						HealthDescription: 'Healthy',
						UpdateTime: '2021-05-01T00:07:34.959927261Z',
					},
					fx: {
						Attributes: null,
						Detected: true,
						Healthy: true,
						HealthDescription: 'Healthy',
						UpdateTime: '2021-05-01T00:07:34.825005129Z',
					},
					py: {
						Attributes: null,
						Detected: true,
						Healthy: true,
						HealthDescription: 'Healthy',
						UpdateTime: '2021-05-01T00:07:34.825005129Z',
					},
					dotnet: {
						Attributes: null,
						Detected: true,
						Healthy: true,
						HealthDescription: 'Healthy',
						UpdateTime: '2021-05-01T00:07:34.825005129Z',
					},
					dotnetcore: {
						Attributes: null,
						Detected: true,
						Healthy: false,
						HealthDescription: 'Healthy',
						UpdateTime: '2021-05-01T00:07:34.825005129Z',
					},
					nodejs: {
						Attributes: null,
						Detected: true,
						Healthy: true,
						HealthDescription: 'Healthy',
						UpdateTime: '2021-05-01T00:07:34.825005129Z',
					},
					kotlin: {
						Attributes: null,
						Detected: true,
						Healthy: true,
						HealthDescription: 'Healthy',
						UpdateTime: '2021-05-01T00:07:34.825005129Z',
					},
				},
				CSIControllerPlugins: null,
				CSINodePlugins: null,
				HostVolumes: null,
				CreateIndex: 7,
				ModifyIndex: 7,
			});
	},
};
